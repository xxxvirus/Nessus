---
- name: Docker
  hosts: all
  become: yes

  tasks:
  - name: List Docker networks 
    shell: "docker network ls"
    changed_when: False
    register: dockerNets
  
    - name: Create missing Docker networks 
      shell: "docker network create --attachable --driver=overlay {{item}}"
      when: item not in dockerNets.stdout
      loop:
       - myNet1
       - myNet2
